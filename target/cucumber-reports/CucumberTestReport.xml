<?xml version="1.0" encoding="UTF-8"?>
<testsuite name="Cucumber" time="44.317" tests="15" skipped="0" failures="1" errors="0">
<testcase classname="Store Purchase API" name="Verify Direct Purchase (Happy Path)" time="10.033">
<system-out><![CDATA[
Given the Store Purchase API is available...................................passed
Given I prepare a valid store purchase request..............................passed
And I set productId as "store_1000".........................................passed
And I set amount as 999.....................................................passed
And I set quantity as 1.....................................................passed
And I set inventoryId as 839................................................passed
And I set denominationId as 1...............................................passed
And I set redirect URL......................................................passed
And I set PhonePe payment mode as "NetBanking"..............................passed
And I set PhonePe target app as "com.phonepe.app"...........................passed
And I set additional parameters.............................................passed
When I submit the store purchase request....................................passed
Then the response status code should be 200.................................passed
And the response should contain redirect URL................................passed
]]></system-out>
</testcase>
<testcase classname="Store Purchase API" name="Verify Unauthorized Access with Invalid Token" time="2.252">
<system-out><![CDATA[
Given the Store Purchase API is available...................................passed
Given I prepare a valid store purchase request..............................passed
And I set an invalid authorization token....................................passed
When I submit the store purchase request....................................passed
Then the response status code should be 400 or 401..........................passed
]]></system-out>
</testcase>
<testcase classname="Store Purchase API" name="Verify Amount Manipulation" time="2.158">
<system-out><![CDATA[
Given the Store Purchase API is available...................................passed
Given I prepare a valid store purchase request..............................passed
And I set amount as 1.......................................................passed
When I submit the store purchase request....................................passed
Then the response status code should be 400.................................passed
]]></system-out>
</testcase>
<testcase classname="Store Purchase API" name="Verify Quantity Manipulation" time="2.186">
<system-out><![CDATA[
Given the Store Purchase API is available...................................passed
Given I prepare a valid store purchase request..............................passed
And I set quantity as -1....................................................passed
When I submit the store purchase request....................................passed
Then the response status code should be 400.................................passed
]]></system-out>
</testcase>
<testcase classname="Store Purchase API" name="Verify Missing API Key" time="2.669">
<failure type="java.lang.AssertionError" message="Expected status code 400 or 401 but found 200 expected [true] but found [false]">
<![CDATA[java.lang.AssertionError: Expected status code 400 or 401 but found 200 expected [true] but found [false]
	at org.testng.Assert.fail(Assert.java:111)
	at org.testng.Assert.failNotEquals(Assert.java:1578)
	at org.testng.Assert.assertTrue(Assert.java:57)
	at com.infinium.stepDefinitions.StorePurchaseSteps.the_response_status_code_should_be_or(StorePurchaseSteps.java:128)
	at ?.the response status code should be 400 or 401(file:///C:/Selenium%20framework%20export/Manu/Euronet-API-Test/src/test/resources/features/StorePurchase.feature:52)
]]>
</failure>
<system-out><![CDATA[
Given the Store Purchase API is available...................................passed
Given I prepare a valid store purchase request..............................passed
And I remove API key........................................................passed
When I submit the store purchase request....................................passed
Then the response status code should be 400 or 401..........................failed
]]></system-out>
</testcase>
<testcase classname="Store Purchase API" name="Prevent duplicate store purchase request" time="2.807">
<system-out><![CDATA[
Given the Store Purchase API is available...................................passed
Given I prepare a valid store purchase request..............................passed
When I submit the store purchase request....................................passed
And I immediately submit the same store purchase request again..............passed
Then the second response status code should be 409 or 400...................passed
]]></system-out>
</testcase>
<testcase classname="Store Purchase API" name="Reject purchase with unsupported country code" time="2.164">
<system-out><![CDATA[
Given the Store Purchase API is available...................................passed
Given I prepare a valid store purchase request..............................passed
And I set country code as "US"..............................................passed
When I submit the store purchase request....................................passed
Then the response status code should be 400.................................passed
]]></system-out>
</testcase>
<testcase classname="Store Purchase API" name="Reject redirect URL from untrusted domain" time="2.404">
<system-out><![CDATA[
Given the Store Purchase API is available...................................passed
Given I prepare a valid store purchase request..............................passed
And I set redirect URL as "https://evil-site.com/callback"..................passed
When I submit the store purchase request....................................passed
Then the response status code should be 400.................................passed
]]></system-out>
</testcase>
<testcase classname="Store Purchase API" name="Reject unsupported PhonePe payment mode" time="2.191">
<system-out><![CDATA[
Given the Store Purchase API is available...................................passed
Given I prepare a valid store purchase request..............................passed
And I set PhonePe payment mode as "Crypto"..................................passed
When I submit the store purchase request....................................passed
Then the response status code should be 400.................................passed
]]></system-out>
</testcase>
<testcase classname="Store Purchase API" name="Block excessive store purchase attempts" time="2.846">
<system-out><![CDATA[
Given the Store Purchase API is available...................................passed
Given I prepare a valid store purchase request..............................passed
When I submit the store purchase request multiple times rapidly.............passed
Then the response status code should be 429 or 400..........................passed
]]></system-out>
</testcase>
<testcase classname="Store Purchase API" name="Reject phone number with invalid length" time="2.137">
<system-out><![CDATA[
Given the Store Purchase API is available...................................passed
Given I prepare a valid store purchase request..............................passed
And I set phone number as "98765"...........................................passed
When I submit the store purchase request....................................passed
Then the response status code should be 400.................................passed
]]></system-out>
</testcase>
<testcase classname="Store Purchase API" name="Reject phone number containing alphabets" time="2.155">
<system-out><![CDATA[
Given the Store Purchase API is available...................................passed
Given I prepare a valid store purchase request..............................passed
And I set phone number as "98AB543210"......................................passed
When I submit the store purchase request....................................passed
Then the response status code should be 400.................................passed
]]></system-out>
</testcase>
<testcase classname="Store Purchase API" name="Reject phone number with special characters" time="2.154">
<system-out><![CDATA[
Given the Store Purchase API is available...................................passed
Given I prepare a valid store purchase request..............................passed
And I set phone number as "98765@3210"......................................passed
When I submit the store purchase request....................................passed
Then the response status code should be 400.................................passed
]]></system-out>
</testcase>
<testcase classname="Store Purchase API" name="Reject phone number with country code prefix" time="2.174">
<system-out><![CDATA[
Given the Store Purchase API is available...................................passed
Given I prepare a valid store purchase request..............................passed
And I set phone number as "+919876543210"...................................passed
When I submit the store purchase request....................................passed
Then the response status code should be 400.................................passed
]]></system-out>
</testcase>
<testcase classname="Store Purchase API" name="Detect rapid repeated purchase attempts using same phone number" time="2.85">
<system-out><![CDATA[
Given the Store Purchase API is available...................................passed
Given I prepare a valid store purchase request..............................passed
And I set phone number as "8765432138"......................................passed
When I submit the store purchase request multiple times rapidly.............passed
Then the response status code should be 429 or 400..........................passed
]]></system-out>
</testcase>
</testsuite>
